This file details the I/O contracts between modules, to ensure that they can be swapped easily.
As long as a module consumes its input contract and its output satisfies the next module's input contract, modules can be freely interchanged.

# Modules

## Input Validation

As it says on the tin, Input Validation modules consume a configuration file and test its parameters for validity so all future modules can assume their inputs are proper.

*In*:
- arg1: Json file (path taken as argument) to be validated. This file contains a topology, at least one test to execute against the topology, environmental conditions to apply to the topology’s links and nodes, and all required metadata (ssh information & credentials, test name, backend, OSM connection information, etc).
  - [Example](example_files/test_run.json).

*Out*: 
- stdout: warnings and errors related to the validity of the given input file.
  - example:
    ```json
    {
      "ok": false,
      "errors": [
        {
          "loc": "root",
          "code": "<>",
          "msg": "<>"
        }
      ],
      "warnings": []
    }
    ```
- exit code: 1 if errors were printed to stdout

### Running Manually

`docker run --rm -v ./modules/0_input/good.json:/input/good.json 0_omen-input-validator:latest /input/good.json`

## Test Runner

*In*:
- arg1: the json file validated by the prior input validation module execution.
  - [Example](example_files/test_run.json).

*Out*: 
- stdout: path to a directory containing raw output from the result of each test as it was printed/redirected. The exact format of the files is as-of-yet undetermined.

## [Coalesce Output](modules/2_mn_raw_output_processing)

*In*: 
- arg1: path to a directory containing at least one timestamped subdirectory with raw test output files.
  - Example:
    ```
    ./
    ├─ raw_output/
    │  ├─ 20251001_201140
    │  │  ├─ test1.txt
    │  │  ├─ test2.txt
    │  │  ├─ test3.txt
    │  │  ├─ test4.txt
    │  │  ├─ ...
    │  ├─ 20250908_090142
    │  │  ├─ test1.txt
    │  │  ├─ test2.txt
    ...
    ```

*Out*: 
- `./results` directory containing two files: `pingall_full_data.csv` (containing reachability results at each step in the test) and `final_iw_data.csv` (containing the results of running `iw` against node as the final test concludes).
  - Example:
    ```
    ./
    ├─ results/
    │  ├─ pingall_full_data.csv
    │  ├─ final_iw_data.csv
    ```

See [the module's README](modules/2_mn_raw_output_processing/README.md) for more information.

## Visualization

*In*: 
- arg1: path to a text file containing the human readable results generated by coalesce output

*Out*: [variable. Entirely dependent on the visualization technique employed by the specific implementation of this module]

